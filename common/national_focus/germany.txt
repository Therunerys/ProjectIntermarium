focus_tree = {
    id = german_focus
    
    country = {
        factor = 1
        
        modifier = {
            add = 10
            tag = GER
        }
    }
    
    default = no

    focus = {
        id = full_effort_naval_race
        icon = GFX_focus_ger_oppose_hitler
        x = 2
        y = 0 

        cost = 10

        mutually_exclusive = {
            focus = accept_uk_domination
            focus = med_effort_naval_race
        }

        ai_will_do = {
            factor = 4000
        
            modifier = {
                factor = 4000
                is_historical_focus_on = yes
            }
        }

        completion_reward = {
            add_timed_idea = { idea = huge_construction days = 35 }
            add_timed_idea = { idea = full_naval_effort_idea days = 365 }

            ENG = {
                add_opinion_modifier = {
                    target = GER
                    modifier = medium_decrease
                }
            }
            random_owned_controlled_state = {
                limit = {
                    free_building_slots = {
                        building = dockyard
                        size > 1
                        include_locked = yes
                        is_in_home_area = yes
                    }
                    is_in_home_area = yes
                }
                add_extra_state_shared_building_slots = 2
                add_building_construction = {
                    type = dockyard
                    level = 2
                    instant_build = yes
                }  
            }

            random_owned_controlled_state = {
                limit = {
                    free_building_slots = {
                        building = dockyard
                        size > 1
                      include_locked = yes
                    }
                    is_in_home_area = yes
                }
            
                add_extra_state_shared_building_slots = 2
                add_building_construction = {
                    type = dockyard
                    level = 2
                    instant_build = yes
                }   
            }
        }   
    }

    focus = {
        id = med_effort_naval_race
        icon = GFX_goal_generic_amphibious_assault
        x = 4
        y = 0 
        cost = 10

        mutually_exclusive = {
            focus = accept_uk_domination
            focus = full_effort_naval_race
        }

        ai_will_do = {
            factor = 4000
        
            modifier = {
                factor = 4000
                is_historical_focus_on = no
            }
        }

        completion_reward = {
            add_timed_idea = { idea = huge_construction days = 35 }
            add_timed_idea = { idea = med_effort_naval_race_idea days = 365 }

            ENG = {
                add_opinion_modifier = {
                    target = GER
                    modifier = small_decrease
                }
            }

            random_owned_controlled_state = {
                limit = {
                    free_building_slots = {
                        building = dockyard
                        size > 1
                        include_locked = yes
                        is_in_home_area = yes
                    }
                    is_in_home_area = yes
                }
                add_extra_state_shared_building_slots = 2
                add_building_construction = {
                    type = dockyard
                    level = 2
                    instant_build = yes
                }  
            }

            random_owned_controlled_state = {
                limit = {
                    free_building_slots = {
                        building = arms_factory
                        size > 1
                      include_locked = yes
                    }
                    is_in_home_area = yes
                }
            
                add_extra_state_shared_building_slots = 2
                add_building_construction = {
                    type = arms_factory
                    level = 2
                    instant_build = yes
                }   
            }
        }   
    }

    focus = {
        id = accept_uk_domination
        icon = GFX_focus_ger_accept_british_naval_dominance
        x = 8
        y = 0 

        cost = 10

        mutually_exclusive = {
            focus = med_effort_naval_race
            focus = full_effort_naval_race
        }

        ai_will_do = {
            factor = 4000
        
            modifier = {
                factor = 2000
                is_historical_focus_on = no
            }
        }

        completion_reward = {
            add_timed_idea = { idea = huge_construction days = 35 }
            add_timed_idea = { idea = accept_uk_domination_idea days = 365 }
            ENG = {
                add_opinion_modifier = {
                    target = GER
                    modifier = medium_increase 
                }
            }
            random_owned_controlled_state = {
                limit = {
                    free_building_slots = {
                        building = arms_factory
                        size > 1
                        include_locked = yes
                        is_in_home_area = yes
                    }
                    is_in_home_area = yes
                }
                add_extra_state_shared_building_slots = 2
                add_building_construction = {
                    type = arms_factory
                    level = 2
                    instant_build = yes
                }  
            }

            random_owned_controlled_state = {
                limit = {
                    free_building_slots = {
                        building = dockyard
                        size > 1
                      include_locked = yes
                    }
                    is_in_home_area = yes
                }
            
                add_extra_state_shared_building_slots = 2
                add_building_construction = {
                    type = arms_factory
                    level = 2
                    instant_build = yes
                }   
            }
        }   
    }

    focus = {
        id = extra_naval_effort
        icon = GFX_goal_generic_navy_doctrines_tactics
        prerequisite = { focus = full_effort_naval_race focus = med_effort_naval_race}
        x = 3
        y = 1
        cost = 5
        ai_will_do = {
            factor = 1
        }

        available_if_capitulated = yes

        completion_reward = {
            navy_experience = 25
            random_owned_controlled_state = {
                limit = {
                    free_building_slots = {
                        building = dockyard
                        size > 1
                        include_locked = yes
                        is_in_home_area = yes
                    }
                    is_in_home_area = yes
                }
                add_extra_state_shared_building_slots = 2
                add_building_construction = {
                    type = dockyard
                    level = 2
                    instant_build = yes
                }  
            }
        }
    }

    focus = {
        id = help_austria_war_ottoman 
        icon = GFX_focus_help_austria
        prerequisite = { focus = accept_uk_domination focus = med_effort_naval_race}
        x = -1
        y = 1
        cost = 1
        ai_will_do = {
            factor = 1
        }
        relative_position_id = accept_uk_domination
        available_if_capitulated = yes
        #bypass = {
        #    date > 1903.00.00
        #}
        available = {
            AHE = {
                has_war_with = TUR
            }
        }
        completion_reward = {
            army_experience = 25
            AHE = { 
                army_experience = 25
                add_opinion_modifier = {
                    target = GER
                    modifier = medium_increase 
                }
            }
        }   
    } 

    focus = {
        id = army_top_priority 
        icon = GFX_focus_ger_oppose_hitler
        prerequisite = { focus = accept_uk_domination }
        x = 1
        y = 1
        cost = 10
        ai_will_do = {
            factor = 1
        }
        relative_position_id = accept_uk_domination

        available_if_capitulated = yes
           
        completion_reward = {
            add_timed_idea = { idea = huge_construction days = 35 }
            random_owned_controlled_state = {
                limit = {
                    free_building_slots = {
                        building = arms_factory
                        size > 1
                        include_locked = yes
                        is_in_home_area = yes
                    }
                    is_in_home_area = yes
                }
                add_extra_state_shared_building_slots = 2
                add_building_construction = {
                    type = arms_factory
                    level = 2
                    instant_build = yes
                }  
            }

            random_owned_controlled_state = {
                limit = {
                    free_building_slots = {
                        building = arms_factory
                        size > 1
                      include_locked = yes
                    }
                    is_in_home_area = yes
                }
            
                add_extra_state_shared_building_slots = 2
                add_building_construction = {
                    type = arms_factory
                    level = 2
                    instant_build = yes
                }   
            }
        }  
    }
    
    focus = {
        id = high_seas_fleet
        icon = GFX_goal_generic_navy_cruiser
        prerequisite = { focus = extra_naval_effort }
        prerequisite = { focus = full_effort_naval_race }
        x = 0
        y = 2
        cost = 10
        ai_will_do = {
            factor = 1
        }
        relative_position_id = full_effort_naval_race
        available_if_capitulated = yes

        completion_reward = {
            add_timed_idea = { idea = huge_construction days = 35 }
            random_owned_controlled_state = {
                limit = {
                    free_building_slots = {
                        building = dockyard
                        size > 1
                        include_locked = yes
                        is_in_home_area = yes
                    }
                    is_in_home_area = yes
                }
                add_extra_state_shared_building_slots = 2
                add_building_construction = {
                    type = dockyard
                    level = 2
                    instant_build = yes
                }  
            }

            random_owned_controlled_state = {
                limit = {
                    free_building_slots = {
                        building = dockyard
                        size > 1
                      include_locked = yes
                    }
                    is_in_home_area = yes
                }
            
                add_extra_state_shared_building_slots = 2
                add_building_construction = {
                    type = dockyard
                    level = 2
                    instant_build = yes
                }   
            }
        }  
    } 

    focus = {
        id = plan_focus
        icon = GFX_focus_generic_navy_battleship2
        prerequisite = { focus = high_seas_fleet }
        x = -1
        y = 1
        cost = 10
        ai_will_do = {
            factor = 0.25
        }   
        relative_position_id = high_seas_fleet
        available_if_capitulated = yes
        mutually_exclusive = {
           focus = plan_ultra
        }
        completion_reward = {
            navy_experience = 50
            random_owned_controlled_state = {
                limit = {
                    free_building_slots = {
                        building = dockyard
                        size > 1
                        include_locked = yes
                        is_in_home_area = yes
                    }
                    is_in_home_area = yes
                }
                add_extra_state_shared_building_slots = 2
                add_building_construction = {
                    type = dockyard
                    level = 2
                    instant_build = yes
                }  
            }

            add_tech_bonus = {
                name = plan_focus
                bonus = 1.0
                uses = 1
                category = bc_tech
            }
            add_tech_bonus = {
                name = plan_focus
                bonus = 1.0
                uses = 1
                category = bb_tech
                category = shbb_tech
            }
        }
    }

    focus = {
        id = plan_ultra
        icon = GFX_goal_generic_navy_battleship
        prerequisite = { focus = high_seas_fleet }
        x = 1
        y = 1
        cost = 10
        ai_will_do = {
            factor = 0.25
        }   
        relative_position_id = high_seas_fleet
        available_if_capitulated = yes
        mutually_exclusive = {
           focus = plan_focus
        }
        completion_reward = {
            navy_experience = 50
            random_owned_controlled_state = {
                limit = {
                    free_building_slots = {
                        building = dockyard
                        size > 1
                        include_locked = yes
                        is_in_home_area = yes
                    }
                    is_in_home_area = yes
                }
                add_extra_state_shared_building_slots = 2
                add_building_construction = {
                    type = dockyard
                    level = 2
                    instant_build = yes
                }  
            }

            add_tech_bonus = {
                name = plan_ultra
                bonus = 1.0
                uses = 1
                category = cl_tech
            }
            add_tech_bonus = {
                name = plan_ultra
                bonus = 1.0
                uses = 1
                category = ca_tech
            }
        }
    }
    focus = {
        id = u_boat_and_des_effort
        icon = GFX_goal_generic_navy_submarine
        prerequisite = { focus = accept_uk_domination  focus = med_effort_naval_race }
        x = 2
        y = 2
        cost = 10
        ai_will_do = {
            factor = 1
        }
        relative_position_id = med_effort_naval_race
        available_if_capitulated = yes

        completion_reward = {
            navy_experience = 25
            random_owned_controlled_state = {
                limit = {
                    free_building_slots = {
                        building = dockyard
                        size > 1
                        include_locked = yes
                        is_in_home_area = yes
                    }
                    is_in_home_area = yes
                }
                add_extra_state_shared_building_slots = 2
                add_building_construction = {
                    type = dockyard
                    level = 2
                    instant_build = yes
                }  
            }
            add_tech_bonus = {
                name = u_boat_and_des_effort
                bonus = 1.0
                uses = 1
                category = ss_tech
            }
            add_tech_bonus = {
                name = dd_bonus
                bonus = 1.0
                uses = 1
                category = dd_tech
            }
        }
    }
    focus = {
        id = trade_interdiction
        icon = GFX_goal_generic_wolf_pack
        prerequisite = { focus = u_boat_and_des_effort }
        prerequisite = { focus = med_effort_naval_race }
        x = 0
        y = 4
        cost = 10
        ai_will_do = {
            factor = 1
        }
        relative_position_id = med_effort_naval_race
        available_if_capitulated = yes

        completion_reward = {
            add_tech_bonus = {
                name = ti_bonus
                name = GER_trade_interdiction
                bonus = 1.0
                uses = 2
                category = trade_interdiction_tree
            }
        }
    }

    focus = {
        id = GER_modular_construction
        icon = GFX_goal_generic_construct_naval_dockyard
        prerequisite = { focus = u_boat_and_des_effort }
        prerequisite = { focus = med_effort_naval_race }
        x = 1
        y = 3
        cost = 10
        ai_will_do = {
            factor = 1
        }
        relative_position_id = med_effort_naval_race

        available_if_capitulated = yes

        completion_reward = {
            add_ideas = GER_naval_construction_idea
        }
    }
    focus = {
        id = GER_big_modular_construction
        icon = GFX_goal_generic_construct_naval_dockyard
        prerequisite = { focus = plan_focus focus = plan_ultra }
        x = 2
        y = 4
        cost = 15
        ai_will_do = {
            factor = 1
        }
            
        available_if_capitulated = yes

        completion_reward = {
            effect_tooltip = {
                custom_effect_tooltip = GER_modular_MOD
            }

            if = {
                limit = {
                    has_completed_focus = plan_focus
                }
                add_ideas = GER_big_naval_construction1_idea
                else = {
                    limit = {
                    has_completed_focus = plan_ultra
                    }
                    add_ideas = GER_big_naval_construction2_idea
                }
            }
        }
    }

    focus = {
        id = fleet_in_being_ger
        icon = GFX_goal_generic_wolf_pack
        prerequisite = { focus = plan_focus focus = plan_ultra }
        x = 0
        y = 4
        cost = 10
        ai_will_do = {
            factor = 1
        }
            
        available_if_capitulated = yes

        completion_reward = {
            add_tech_bonus = {
                name = ti_bonus
                name = GER_trade_interdiction
                bonus = 1.0
                uses = 2
                category = fleet_in_being_tree
            }
        }
    }
    ################################################### END OF NAVAL TREE, START OF 
}
